--[[
%% properties
(Motion_sensor_id) dead
(Motion_sensor_id) dead
(Motion_sensor_id) dead
(Motion_sensor_id) dead
(Motion_sensor_id) dead
%% weather
%% events
%% globals
--]]

-- *****************************************************************************************
-- *                               ACS | Advanced Control System                           *
-- *                    This Script Was written by developers In R&D department            *
-- *****************************************************************************************
-- *    Titel       :                                                                      *
-- *    platform    :   Home Center 2                                                      *
-- *    vertion     :   V1.0                                                               *
-- *    date        :   July 10_th, 2022                                                   *
-- *    discretion  :                                                                      *
-- *****************************************************************************************

--*********************************************************************************************************
--*************************************************C*******************************************************
--*************************************************o*******************************************************
--*************************************************d*******************************************************
--*************************************************e*******************************************************
--*********************************************************************************************************



local DevicesList [200] = {10,20,30,40,60}
local DeadNodeList = {}

function DeadNodesColect()
    for Node in DevicesList do
        if (fibaro:getValue(Node, 'dead')) then
            table.insert(DeadNodeList, Node)
        end
    end
end

function WackUpDeadNodes()
    for DeadNode in DeadNodeList do
        api.post("/devices/"..DeadNode.."/action/wakeUpDeadDevice")
    end
end

DeadNodesColect()

WackUpDeadNodes()

--*********************************************************************************************************
--*************************************************C*******************************************************
--*************************************************o*******************************************************
--*************************************************d*******************************************************
--*************************************************e*******************************************************
--*********************************************************************************************************